import{m as Rr,l as Cr,a as _r,e as br,s as Ir,P as Mr}from"./index-r-pUqtUt.js";import{d as H,c as g,a3 as bt,ab as xr,m as mt,f as we,i as m,q as y,n as b,z as _,v as O,j as L,E as q,t as I,k as Z,x as fe,s as ue,B,a4 as Lr,ah as Ze,ai as je,a as We,Q as Or,r as Yr,o as Ar,b as kr,V as Ur,w as Hr,W as zr,X as $r,F as It,A as Pr,p as Fr,S as X,U as Q}from"./vue-blgNmdmJ.js";var Vr=Object.defineProperty,Gr=(e,t,r)=>t in e?Vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U=(e,t,r)=>(Gr(e,typeof t!="symbol"?t+"":t,r),r),v=(e=>(e.MINUTELY="Minutely",e.HOURLY="Hourly",e.DAILY="Daily",e.WEEKLY="Weekly",e))(v||{}),N=(e=>(e.FIFTEEN_MIN="15m",e.ONE_HOUR="1h",e.SIX_HOUR="6h",e.TWELVE_HOUR="12h",e.ONE_DAY="24h",e.SEVEN_DAY="7d",e.THIRTY_DAY="30d",e.CURRENT_WEEK="current_week",e.CURRENT_MONTH="current_month",e.CURRENT_QUARTER="current_quarter",e.PREVIOUS_WEEK="previous_week",e.PREVIOUS_MONTH="previous_month",e.PREVIOUS_QUARTER="previous_quarter",e))(N||{});function Te(e){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(e)}function P(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Y(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ae(e){Y(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Te(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Be(e,t){Y(2,arguments);var r=ae(e),a=P(t);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function qr(e,t){Y(2,arguments);var r=ae(e),a=P(t);if(isNaN(a))return new Date(NaN);if(!a)return r;var i=r.getDate(),n=new Date(r.getTime());n.setMonth(r.getMonth()+a+1,0);var s=n.getDate();return i>=s?n:(r.setFullYear(n.getFullYear(),n.getMonth(),i),r)}var Zr={};function jr(){return Zr}function De(e,t){var r,a,i,n,s,l,c,o;Y(1,arguments);var u=jr(),d=P((r=(a=(i=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(o=c.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ae(e),p=f.getDay(),w=(p<d?7:0)+p-d;return f.setDate(f.getDate()-w),f.setHours(0,0,0,0),f}function Mt(e){Y(1,arguments);var t=ae(e);return t.setHours(0,0,0,0),t}var Wr=60,Br=3600;function de(e){Y(1,arguments);var t=ae(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Kr(e){Y(1,arguments);var t=ae(e),r=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function Ke(e){Y(1,arguments);var t=ae(e),r=t.getTime();return r}function xt(e){return Y(1,arguments),Math.floor(Ke(e)/1e3)}function Xr(e){return Y(1,arguments),Math.floor(e*Br)}function Qr(e,t){Y(2,arguments);var r=P(t);return Be(e,-r)}function Jr(e){Y(1,arguments);var t=e/Wr;return Math.floor(t)}function gt(e,t){Y(2,arguments);var r=P(t);return qr(e,-r)}function ea(e,t){if(Y(2,arguments),!t||Te(t)!=="object")return new Date(NaN);var r=t.years?P(t.years):0,a=t.months?P(t.months):0,i=t.weeks?P(t.weeks):0,n=t.days?P(t.days):0,s=t.hours?P(t.hours):0,l=t.minutes?P(t.minutes):0,c=t.seconds?P(t.seconds):0,o=gt(e,a+r*12),u=Qr(o,n+i*7),d=l+s*60,f=c+d*60,p=f*1e3,w=new Date(u.getTime()-p);return w}function vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ir={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(ir);var ta=ir.exports,Xe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){if(a===null||a===!0||a===!1)return NaN;var i=Number(a);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(Xe,Xe.exports);var ra=Xe.exports;const aa=vt(ra);var Qe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){var i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),a.getTime()-i.getTime()}e.exports=t.default})(Qe,Qe.exports);var na=Qe.exports;const Lt=vt(na);function ia(e,t){var r=la(t);return r.formatToParts?oa(r,e):ua(r,e)}var sa={year:0,month:1,day:2,hour:3,minute:4,second:5};function oa(e,t){try{for(var r=e.formatToParts(t),a=[],i=0;i<r.length;i++){var n=sa[r[i].type];n>=0&&(a[n]=parseInt(r[i].value,10))}return a}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function ua(e,t){var r=e.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var xe={};function la(e){if(!xe[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";xe[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return xe[e]}function ht(e,t,r,a,i,n,s){var l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(a,i,n,s),l}var Ot=36e5,da=6e4,Le={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Re(e,t,r){var a,i;if(!e||(a=Le.timezoneZ.exec(e),a))return 0;var n;if(a=Le.timezoneHH.exec(e),a)return n=parseInt(a[1],10),Yt(n)?-(n*Ot):NaN;if(a=Le.timezoneHHMM.exec(e),a){n=parseInt(a[1],10);var s=parseInt(a[2],10);return Yt(n,s)?(i=Math.abs(n)*Ot+s*da,n>0?-i:i):NaN}if(pa(e)){t=new Date(t||Date.now());var l=r?t:ca(t),c=Je(l,e),o=r?c:fa(t,c,e);return-o}return NaN}function ca(e){return ht(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Je(e,t){var r=ia(e,t),a=ht(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),n=i%1e3;return i-=n>=0?n:1e3+n,a-i}function fa(e,t,r){var a=e.getTime(),i=a-t,n=Je(new Date(i),r);if(t===n)return t;i-=n-t;var s=Je(new Date(i),r);return n===s?n:Math.max(n,s)}function Yt(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var At={};function pa(e){if(At[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),At[e]=!0,!0}catch{return!1}}var ma=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const sr=ma;var Oe=36e5,kt=6e4,ga=2,M={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:sr};function et(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},a=r.additionalDigits==null?ga:aa(r.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=va(e),n=ha(i.date,a),s=n.year,l=n.restDateString,c=ya(l,s);if(isNaN(c))return new Date(NaN);if(c){var o=c.getTime(),u=0,d;if(i.time&&(u=wa(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||r.timeZone){if(d=Re(i.timeZone||r.timeZone,new Date(o+u)),isNaN(d))return new Date(NaN)}else d=Lt(new Date(o+u)),d=Lt(new Date(o+u+d));return new Date(o+u+d)}else return new Date(NaN)}function va(e){var t={},r=M.dateTimePattern.exec(e),a;if(r?(t.date=r[1],a=r[3]):(r=M.datePattern.exec(e),r?(t.date=r[1],a=r[2]):(t.date=null,a=e)),a){var i=M.timeZone.exec(a);i?(t.time=a.replace(i[1],""),t.timeZone=i[1].trim()):t.time=a}return t}function ha(e,t){var r=M.YYY[t],a=M.YYYYY[t],i;if(i=M.YYYY.exec(e)||a.exec(e),i){var n=i[1];return{year:parseInt(n,10),restDateString:e.slice(n.length)}}if(i=M.YY.exec(e)||r.exec(e),i){var s=i[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function ya(e,t){if(t===null)return null;var r,a,i,n;if(e.length===0)return a=new Date(0),a.setUTCFullYear(t),a;if(r=M.MM.exec(e),r)return a=new Date(0),i=parseInt(r[1],10)-1,Ht(t,i)?(a.setUTCFullYear(t,i),a):new Date(NaN);if(r=M.DDD.exec(e),r){a=new Date(0);var s=parseInt(r[1],10);return Na(t,s)?(a.setUTCFullYear(t,0,s),a):new Date(NaN)}if(r=M.MMDD.exec(e),r){a=new Date(0),i=parseInt(r[1],10)-1;var l=parseInt(r[2],10);return Ht(t,i,l)?(a.setUTCFullYear(t,i,l),a):new Date(NaN)}if(r=M.Www.exec(e),r)return n=parseInt(r[1],10)-1,zt(t,n)?Ut(t,n):new Date(NaN);if(r=M.WwwD.exec(e),r){n=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return zt(t,n,c)?Ut(t,n,c):new Date(NaN)}return null}function wa(e){var t,r,a;if(t=M.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),Ye(r)?r%24*Oe:NaN;if(t=M.HHMM.exec(e),t)return r=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),Ye(r,a)?r%24*Oe+a*kt:NaN;if(t=M.HHMMSS.exec(e),t){r=parseInt(t[1],10),a=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return Ye(r,a,i)?r%24*Oe+a*kt+i*1e3:NaN}return null}function Ut(e,t,r){t=t||0,r=r||0;var a=new Date(0);a.setUTCFullYear(e,0,4);var i=a.getUTCDay()||7,n=t*7+r+1-i;return a.setUTCDate(a.getUTCDate()+n),a}var Ta=[31,28,31,30,31,30,31,31,30,31,30,31],Da=[31,29,31,30,31,30,31,31,30,31,30,31];function or(e){return e%400===0||e%4===0&&e%100!==0}function Ht(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var a=or(e);if(a&&r>Da[t]||!a&&r>Ta[t])return!1}return!0}function Na(e,t){if(t<1)return!1;var r=or(e);return!(r&&t>366||!r&&t>365)}function zt(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function Ye(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}var tt={exports:{}},rt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a,i){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n]);return a}e.exports=t.default})(rt,rt.exports);var Sa=rt.exports;(function(e,t){var r=ta.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(Sa);function i(n){return(0,a.default)({},n)}e.exports=t.default})(tt,tt.exports);var Ea=tt.exports;const Ra=vt(Ea);function Ca(e,t,r){var a=et(e,r),i=Re(t,a,!0),n=new Date(a.getTime()-i),s=new Date(0);return s.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),s.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),s}function ur(e,t){return-Re(e,t)}function _a(e,t,r){if(typeof e=="string"&&!e.match(sr)){var a=Ra(r);return a.timeZone=t,et(e,a)}var i=et(e,r),n=ht(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),s=Re(t,new Date(n));return new Date(n+s)}const at={[v.MINUTELY]:60*1e3,[v.HOURLY]:60*60*1e3,[v.DAILY]:60*60*24*1e3,[v.WEEKLY]:60*60*24*7*1e3};function ba(e,t){return e?{duration:e,type:"duration",origin:t}:null}function lr(e,t,r,a){const i=at[r];let n=0;return i>=at[v.DAILY]&&(a?n=-ur(a,t):n=t.getTimezoneOffset()*60*1e3),new Date(e((t.getTime()-n)/i)*i+n)}function $t(e,t,r){return lr(Math.floor,e,t,r)}function Ia(e,t,r){return lr(Math.ceil,e,t,r)}let Ma=class dr{constructor(t,r){if(U(this,"timeframe"),U(this,"tz"),this.constructor===dr)throw new Error("BaseQueryTime is not meant to be used directly.");this.timeframe=t,this.tz=r}calculateStartDate(t,r,a=1){if(t)return new Date(this.endDate().getTime()-this.timeframe.timeframeLengthMs()*a);{const i=this.endDate(),n=this.timeframe.rawStart(this.tz),s=$t(n,r,this.tz),l=(i.getTime()-s.getTime())*(a-1);return $t(new Date(n.getTime()-l),r,this.tz)}}granularitySeconds(){return Math.floor(this.granularityMs()/1e3)}granularityDruid(){return ba(this.granularityMs(),this.startDate().toISOString())}startSeconds(){return xt(this.startDate())}endSeconds(){return xt(this.endDate())}startMs(){return Ke(this.startDate())}endMs(){return Ke(this.endDate())}withinFreeTier(){return this.startDate()>=ea(new Date,{days:1})}};class Cs extends Ma{constructor(t,r,a){super(t,a),U(this,"granularity"),r&&t.allowedGranularities().has(r)?this.granularity=r:this.granularity=t.defaultResponseGranularity}startDate(){return this.calculateStartDate(this.timeframe.isRelative,this.granularity)}endDate(){return Ia(this.timeframe.rawEnd(),this.granularity,this.tz)}granularityMs(){return at[this.granularity]}}const pe=(e,t)=>new Date(e.getTime()-ur(t,e));let F=class{constructor(t){U(this,"timeframeText"),U(this,"key"),U(this,"display"),U(this,"timeframeLength"),U(this,"allowedTiers"),U(this,"defaultResponseGranularity"),U(this,"dataGranularity"),U(this,"isRelative"),U(this,"_startCustom"),U(this,"_endCustom"),this.display=t.display,this.timeframeText=t.timeframeText,this.key=t.key,this.timeframeLength=t.timeframeLength,this.allowedTiers=t.allowedTiers,this.defaultResponseGranularity=t.defaultResponseGranularity,this.dataGranularity=t.dataGranularity,this.isRelative=t.isRelative,this._startCustom=t.startCustom,this._endCustom=t.endCustom}rawEnd(t){return this._endCustom||new Date}rawStart(t){return this._startCustom||new Date(this.rawEnd().getTime()-this.timeframeLengthMs())}timeframeLengthMs(){return this.timeframeLength()*1e3}maximumTimeframeLength(){return this.timeframeLength()}allowedGranularities(){const t=new Set,r=this.maximumTimeframeLength()/3600;return r<=6&&t.add(v.MINUTELY),r>=2&&r<=7*24&&t.add(v.HOURLY),r>=2*24&&t.add(v.DAILY),r>=2*24*14&&t.add(v.WEEKLY),t}tzAdjustedDate(t){if(!t)return new Date;const r=_a(new Date,new Intl.DateTimeFormat().resolvedOptions().timeZone);return Ca(r,t)}},xa=class extends F{rawStart(t){let r=De(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=pe(r,t)),r}maximumTimeframeLength(){return 60*60*24*7}},La=class extends F{rawStart(t){let r=de(this.tzAdjustedDate(t));return t&&(r=pe(r,t)),r}maximumTimeframeLength(){return 60*60*24*31}},Oa=class extends F{rawEnd(t){let r=De(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=pe(r,t)),r}rawStart(t){const r=this.tzAdjustedDate(t);let a=De(r.setDate(r.getDate()-7),{weekStartsOn:1});return t&&(a=pe(a,t)),a}},Ya=class extends F{rawEnd(t){let r=de(this.tzAdjustedDate(t));return t&&(r=pe(r,t)),r}rawStart(t){let r=de(gt(this.tzAdjustedDate(t),1));return t&&(r=pe(r,t)),r}};const Aa=new Map([[N.FIFTEEN_MIN,new F({key:N.FIFTEEN_MIN,display:"Last 15 minutes",timeframeText:"15 minutes",timeframeLength:()=>60*15,defaultResponseGranularity:v.MINUTELY,dataGranularity:v.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.ONE_HOUR,new F({key:N.ONE_HOUR,display:"Last hour",timeframeText:"One hour",timeframeLength:()=>60*60*1,defaultResponseGranularity:v.MINUTELY,dataGranularity:v.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.SIX_HOUR,new F({key:N.SIX_HOUR,display:"Last 6 hours",timeframeText:"6 hours",timeframeLength:()=>60*60*6,defaultResponseGranularity:v.HOURLY,dataGranularity:v.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.TWELVE_HOUR,new F({key:N.TWELVE_HOUR,display:"Last 12 hours",timeframeText:"12 hours",timeframeLength:()=>60*60*12,defaultResponseGranularity:v.HOURLY,dataGranularity:v.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.ONE_DAY,new F({key:N.ONE_DAY,display:"Last 24 hours",timeframeText:"24 hours",timeframeLength:()=>60*60*24,defaultResponseGranularity:v.HOURLY,dataGranularity:v.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.SEVEN_DAY,new F({key:N.SEVEN_DAY,display:"Last 7 days",timeframeText:"7 days",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[N.THIRTY_DAY,new F({key:N.THIRTY_DAY,display:"Last 30 days",timeframeText:"30 days",timeframeLength:()=>60*60*24*30,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[N.CURRENT_WEEK,new xa({key:N.CURRENT_WEEK,display:"This week",timeframeText:"Week",timeframeLength:()=>{const e=De(new Date,{weekStartsOn:1});return(Mt(Be(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[N.CURRENT_MONTH,new La({key:N.CURRENT_MONTH,display:"This month",timeframeText:"Month",timeframeLength:()=>{const e=de(new Date);return(Mt(Be(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[N.PREVIOUS_WEEK,new Oa({key:N.PREVIOUS_WEEK,display:"Previous week",timeframeText:"Week",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[N.PREVIOUS_MONTH,new Ya({key:N.PREVIOUS_MONTH,display:"Previous month",timeframeText:"Month",timeframeLength:()=>{let e=0;const t=de(new Date),r=de(gt(new Date,1));return t.getTimezoneOffset()!==r.getTimezoneOffset()&&(e=ka(t,r)),60*60*24*Kr(new Date().setMonth(new Date().getMonth()-1))+Xr(e)},defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})]]);function Ls(e){const t=new Date(e.start),r=new Date(e.end),a=(r.getTime()-t.getTime())/1e3;return e.timePeriodsKey&&Aa.get(e.timePeriodsKey)||new F({key:"custom",timeframeText:"custom",display:"custom",startCustom:t,endCustom:r,timeframeLength:()=>a,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["free","plus","enterprise"]})}function Os(e){return{...e.key!=="custom"&&{timePeriodsKey:e.key},start:e.rawStart(),end:e.rawEnd()}}function Ys(e){return{key:e.key,display:e.display,timeframeText:e.timeframeText,timeframeLength:()=>e.key,start:()=>e.rawStart(),end:()=>e.rawEnd()}}function ka(e,t){return Jr(e.getTimezoneOffset()-t.getTimezoneOffset())}var Ua=Object.defineProperty,Ha=(e,t,r)=>t in e?Ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t,r)=>(Ha(e,typeof t!="symbol"?t+"":t,r),r),h=(e=>(e.MINUTELY="Minutely",e.HOURLY="Hourly",e.DAILY="Daily",e.WEEKLY="Weekly",e))(h||{}),T=(e=>(e.FIFTEEN_MIN="15m",e.ONE_HOUR="1h",e.SIX_HOUR="6h",e.TWELVE_HOUR="12h",e.ONE_DAY="24h",e.SEVEN_DAY="7d",e.THIRTY_DAY="30d",e.CURRENT_WEEK="current_week",e.CURRENT_MONTH="current_month",e.CURRENT_QUARTER="current_quarter",e.PREVIOUS_WEEK="previous_week",e.PREVIOUS_MONTH="previous_month",e.PREVIOUS_QUARTER="previous_quarter",e))(T||{});function Ne(e){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(e)}function V(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function A(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ne(e){A(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ne(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function nt(e,t){A(2,arguments);var r=ne(e),a=V(t);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function za(e,t){A(2,arguments);var r=ne(e),a=V(t);if(isNaN(a))return new Date(NaN);if(!a)return r;var i=r.getDate(),n=new Date(r.getTime());n.setMonth(r.getMonth()+a+1,0);var s=n.getDate();return i>=s?n:(r.setFullYear(n.getFullYear(),n.getMonth(),i),r)}var $a={};function Pa(){return $a}function Se(e,t){var r,a,i,n,s,l,c,o;A(1,arguments);var u=Pa(),d=V((r=(a=(i=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(o=c.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ne(e),p=f.getDay(),w=(p<d?7:0)+p-d;return f.setDate(f.getDate()-w),f.setHours(0,0,0,0),f}function Pt(e){A(1,arguments);var t=ne(e);return t.setHours(0,0,0,0),t}var Fa=60,Va=3600;function ce(e){A(1,arguments);var t=ne(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ga(e){A(1,arguments);var t=ne(e),r=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function it(e){A(1,arguments);var t=ne(e),r=t.getTime();return r}function Ft(e){return A(1,arguments),Math.floor(it(e)/1e3)}function qa(e){return A(1,arguments),Math.floor(e*Va)}function Za(e,t){A(2,arguments);var r=V(t);return nt(e,-r)}function ja(e){A(1,arguments);var t=e/Fa;return Math.floor(t)}function yt(e,t){A(2,arguments);var r=V(t);return za(e,-r)}function Wa(e,t){if(A(2,arguments),!t||Ne(t)!=="object")return new Date(NaN);var r=t.years?V(t.years):0,a=t.months?V(t.months):0,i=t.weeks?V(t.weeks):0,n=t.days?V(t.days):0,s=t.hours?V(t.hours):0,l=t.minutes?V(t.minutes):0,c=t.seconds?V(t.seconds):0,o=yt(e,a+r*12),u=Za(o,n+i*7),d=l+s*60,f=c+d*60,p=f*1e3,w=new Date(u.getTime()-p);return w}function wt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cr={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(cr);var Ba=cr.exports,st={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){if(a===null||a===!0||a===!1)return NaN;var i=Number(a);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(st,st.exports);var Ka=st.exports;const Xa=wt(Ka);var ot={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){var i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),a.getTime()-i.getTime()}e.exports=t.default})(ot,ot.exports);var Qa=ot.exports;const Vt=wt(Qa);function Ja(e,t){var r=an(t);return r.formatToParts?tn(r,e):rn(r,e)}var en={year:0,month:1,day:2,hour:3,minute:4,second:5};function tn(e,t){try{for(var r=e.formatToParts(t),a=[],i=0;i<r.length;i++){var n=en[r[i].type];n>=0&&(a[n]=parseInt(r[i].value,10))}return a}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function rn(e,t){var r=e.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var Ae={};function an(e){if(!Ae[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Ae[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Ae[e]}function Tt(e,t,r,a,i,n,s){var l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(a,i,n,s),l}var Gt=36e5,nn=6e4,ke={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Ce(e,t,r){var a,i;if(!e||(a=ke.timezoneZ.exec(e),a))return 0;var n;if(a=ke.timezoneHH.exec(e),a)return n=parseInt(a[1],10),qt(n)?-(n*Gt):NaN;if(a=ke.timezoneHHMM.exec(e),a){n=parseInt(a[1],10);var s=parseInt(a[2],10);return qt(n,s)?(i=Math.abs(n)*Gt+s*nn,n>0?-i:i):NaN}if(un(e)){t=new Date(t||Date.now());var l=r?t:sn(t),c=ut(l,e),o=r?c:on(t,c,e);return-o}return NaN}function sn(e){return Tt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ut(e,t){var r=Ja(e,t),a=Tt(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),n=i%1e3;return i-=n>=0?n:1e3+n,a-i}function on(e,t,r){var a=e.getTime(),i=a-t,n=ut(new Date(i),r);if(t===n)return t;i-=n-t;var s=ut(new Date(i),r);return n===s?n:Math.max(n,s)}function qt(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Zt={};function un(e){if(Zt[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Zt[e]=!0,!0}catch{return!1}}var ln=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const fr=ln;var Ue=36e5,jt=6e4,dn=2,x={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:fr};function lt(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},a=r.additionalDigits==null?dn:Xa(r.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=cn(e),n=fn(i.date,a),s=n.year,l=n.restDateString,c=pn(l,s);if(isNaN(c))return new Date(NaN);if(c){var o=c.getTime(),u=0,d;if(i.time&&(u=mn(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||r.timeZone){if(d=Ce(i.timeZone||r.timeZone,new Date(o+u)),isNaN(d))return new Date(NaN)}else d=Vt(new Date(o+u)),d=Vt(new Date(o+u+d));return new Date(o+u+d)}else return new Date(NaN)}function cn(e){var t={},r=x.dateTimePattern.exec(e),a;if(r?(t.date=r[1],a=r[3]):(r=x.datePattern.exec(e),r?(t.date=r[1],a=r[2]):(t.date=null,a=e)),a){var i=x.timeZone.exec(a);i?(t.time=a.replace(i[1],""),t.timeZone=i[1].trim()):t.time=a}return t}function fn(e,t){var r=x.YYY[t],a=x.YYYYY[t],i;if(i=x.YYYY.exec(e)||a.exec(e),i){var n=i[1];return{year:parseInt(n,10),restDateString:e.slice(n.length)}}if(i=x.YY.exec(e)||r.exec(e),i){var s=i[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function pn(e,t){if(t===null)return null;var r,a,i,n;if(e.length===0)return a=new Date(0),a.setUTCFullYear(t),a;if(r=x.MM.exec(e),r)return a=new Date(0),i=parseInt(r[1],10)-1,Bt(t,i)?(a.setUTCFullYear(t,i),a):new Date(NaN);if(r=x.DDD.exec(e),r){a=new Date(0);var s=parseInt(r[1],10);return hn(t,s)?(a.setUTCFullYear(t,0,s),a):new Date(NaN)}if(r=x.MMDD.exec(e),r){a=new Date(0),i=parseInt(r[1],10)-1;var l=parseInt(r[2],10);return Bt(t,i,l)?(a.setUTCFullYear(t,i,l),a):new Date(NaN)}if(r=x.Www.exec(e),r)return n=parseInt(r[1],10)-1,Kt(t,n)?Wt(t,n):new Date(NaN);if(r=x.WwwD.exec(e),r){n=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return Kt(t,n,c)?Wt(t,n,c):new Date(NaN)}return null}function mn(e){var t,r,a;if(t=x.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),He(r)?r%24*Ue:NaN;if(t=x.HHMM.exec(e),t)return r=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),He(r,a)?r%24*Ue+a*jt:NaN;if(t=x.HHMMSS.exec(e),t){r=parseInt(t[1],10),a=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return He(r,a,i)?r%24*Ue+a*jt+i*1e3:NaN}return null}function Wt(e,t,r){t=t||0,r=r||0;var a=new Date(0);a.setUTCFullYear(e,0,4);var i=a.getUTCDay()||7,n=t*7+r+1-i;return a.setUTCDate(a.getUTCDate()+n),a}var gn=[31,28,31,30,31,30,31,31,30,31,30,31],vn=[31,29,31,30,31,30,31,31,30,31,30,31];function pr(e){return e%400===0||e%4===0&&e%100!==0}function Bt(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var a=pr(e);if(a&&r>vn[t]||!a&&r>gn[t])return!1}return!0}function hn(e,t){if(t<1)return!1;var r=pr(e);return!(r&&t>366||!r&&t>365)}function Kt(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function He(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}var dt={exports:{}},ct={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a,i){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n]);return a}e.exports=t.default})(ct,ct.exports);var yn=ct.exports;(function(e,t){var r=Ba.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(yn);function i(n){return(0,a.default)({},n)}e.exports=t.default})(dt,dt.exports);var wn=dt.exports;const Tn=wt(wn);function Dn(e,t,r){var a=lt(e,r),i=Ce(t,a,!0),n=new Date(a.getTime()-i),s=new Date(0);return s.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),s.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),s}function mr(e,t){return-Ce(e,t)}function Nn(e,t,r){if(typeof e=="string"&&!e.match(fr)){var a=Tn(r);return a.timeZone=t,lt(e,a)}var i=lt(e,r),n=Tt(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),s=Ce(t,new Date(n));return new Date(n+s)}const Xt={[h.MINUTELY]:60*1e3,[h.HOURLY]:60*60*1e3,[h.DAILY]:60*60*24*1e3,[h.WEEKLY]:60*60*24*7*1e3};function Sn(e,t){return e?{duration:e,type:"duration",origin:t}:null}function gr(e,t,r,a){const i=Xt[r];let n=0;return i>=Xt[h.DAILY]&&(a?n=-mr(a,t):n=t.getTimezoneOffset()*60*1e3),new Date(e((t.getTime()-n)/i)*i+n)}function Qt(e,t,r){return gr(Math.floor,e,t,r)}function En(e,t,r){return gr(Math.ceil,e,t,r)}let Rn=class vr{constructor(t,r){if(z(this,"timeframe"),z(this,"tz"),this.constructor===vr)throw new Error("BaseQueryTime is not meant to be used directly.");this.timeframe=t,this.tz=r}calculateStartDate(t,r,a=1){if(t)return new Date(this.endDate().getTime()-this.timeframe.timeframeLengthMs()*a);{const i=this.endDate(),n=this.timeframe.rawStart(this.tz),s=Qt(n,r,this.tz),l=(i.getTime()-s.getTime())*(a-1);return Qt(new Date(n.getTime()-l),r,this.tz)}}granularitySeconds(){return Math.floor(this.granularityMs()/1e3)}granularityDruid(){return Sn(this.granularityMs(),this.startDate().toISOString())}startSeconds(){return Ft(this.startDate())}endSeconds(){return Ft(this.endDate())}startMs(){return it(this.startDate())}endMs(){return it(this.endDate())}withinFreeTier(){return this.startDate()>=Wa(new Date,{days:1})}};class hr extends Rn{startDate(){return this.calculateStartDate(this.timeframe.isRelative,this.timeframe.dataGranularity)}endDate(){return En(this.timeframe.rawEnd(this.tz),this.timeframe.dataGranularity,this.tz)}granularityMs(){return this.endDate().getTime()-this.startDate().getTime()}}class Cn extends hr{startDate(){return this.calculateStartDate(this.timeframe.isRelative,this.timeframe.dataGranularity,2)}granularityMs(){return this.endDate().getTime()-super.startDate().getTime()}}const me=(e,t)=>new Date(e.getTime()-mr(t,e));let G=class{constructor(e){z(this,"timeframeText"),z(this,"key"),z(this,"display"),z(this,"timeframeLength"),z(this,"allowedTiers"),z(this,"defaultResponseGranularity"),z(this,"dataGranularity"),z(this,"isRelative"),z(this,"_startCustom"),z(this,"_endCustom"),this.display=e.display,this.timeframeText=e.timeframeText,this.key=e.key,this.timeframeLength=e.timeframeLength,this.allowedTiers=e.allowedTiers,this.defaultResponseGranularity=e.defaultResponseGranularity,this.dataGranularity=e.dataGranularity,this.isRelative=e.isRelative,this._startCustom=e.startCustom,this._endCustom=e.endCustom}rawEnd(e){return this._endCustom||new Date}rawStart(e){return this._startCustom||new Date(this.rawEnd().getTime()-this.timeframeLengthMs())}timeframeLengthMs(){return this.timeframeLength()*1e3}maximumTimeframeLength(){return this.timeframeLength()}allowedGranularities(){const e=new Set,t=this.maximumTimeframeLength()/3600;return t<=6&&e.add(h.MINUTELY),t>=2&&t<=7*24&&e.add(h.HOURLY),t>=2*24&&e.add(h.DAILY),t>=2*24*14&&e.add(h.WEEKLY),e}tzAdjustedDate(e){if(!e)return new Date;const t=Nn(new Date,new Intl.DateTimeFormat().resolvedOptions().timeZone);return Dn(t,e)}};class _n extends G{rawStart(t){let r=Se(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=me(r,t)),r}maximumTimeframeLength(){return 60*60*24*7}}class bn extends G{rawStart(t){let r=ce(this.tzAdjustedDate(t));return t&&(r=me(r,t)),r}maximumTimeframeLength(){return 60*60*24*31}}class In extends G{rawEnd(t){let r=Se(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=me(r,t)),r}rawStart(t){const r=this.tzAdjustedDate(t);let a=Se(r.setDate(r.getDate()-7),{weekStartsOn:1});return t&&(a=me(a,t)),a}}class Mn extends G{rawEnd(t){let r=ce(this.tzAdjustedDate(t));return t&&(r=me(r,t)),r}rawStart(t){let r=ce(yt(this.tzAdjustedDate(t),1));return t&&(r=me(r,t)),r}}const ze=new Map([[T.FIFTEEN_MIN,new G({key:T.FIFTEEN_MIN,display:"Last 15 minutes",timeframeText:"15 minutes",timeframeLength:()=>60*15,defaultResponseGranularity:h.MINUTELY,dataGranularity:h.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.ONE_HOUR,new G({key:T.ONE_HOUR,display:"Last hour",timeframeText:"One hour",timeframeLength:()=>60*60*1,defaultResponseGranularity:h.MINUTELY,dataGranularity:h.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.SIX_HOUR,new G({key:T.SIX_HOUR,display:"Last 6 hours",timeframeText:"6 hours",timeframeLength:()=>60*60*6,defaultResponseGranularity:h.HOURLY,dataGranularity:h.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.TWELVE_HOUR,new G({key:T.TWELVE_HOUR,display:"Last 12 hours",timeframeText:"12 hours",timeframeLength:()=>60*60*12,defaultResponseGranularity:h.HOURLY,dataGranularity:h.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.ONE_DAY,new G({key:T.ONE_DAY,display:"Last 24 hours",timeframeText:"24 hours",timeframeLength:()=>60*60*24,defaultResponseGranularity:h.HOURLY,dataGranularity:h.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.SEVEN_DAY,new G({key:T.SEVEN_DAY,display:"Last 7 days",timeframeText:"7 days",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[T.THIRTY_DAY,new G({key:T.THIRTY_DAY,display:"Last 30 days",timeframeText:"30 days",timeframeLength:()=>60*60*24*30,defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[T.CURRENT_WEEK,new _n({key:T.CURRENT_WEEK,display:"This week",timeframeText:"Week",timeframeLength:()=>{const e=Se(new Date,{weekStartsOn:1});return(Pt(nt(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[T.CURRENT_MONTH,new bn({key:T.CURRENT_MONTH,display:"This month",timeframeText:"Month",timeframeLength:()=>{const e=ce(new Date);return(Pt(nt(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[T.PREVIOUS_WEEK,new In({key:T.PREVIOUS_WEEK,display:"Previous week",timeframeText:"Week",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[T.PREVIOUS_MONTH,new Mn({key:T.PREVIOUS_MONTH,display:"Previous month",timeframeText:"Month",timeframeLength:()=>{let e=0;const t=ce(new Date),r=ce(yt(new Date,1));return t.getTimezoneOffset()!==r.getTimezoneOffset()&&(e=xn(t,r)),60*60*24*Ga(new Date().setMonth(new Date().getMonth()-1))+qa(e)},defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})]]);function xn(e,t){return ja(e.getTimezoneOffset()-t.getTimezoneOffset())}const Ln={notAvailable:"N/A"},On={short:{traffic:"Requests",errorRate:"Error Rate",latency:"P99 Latency"},long:{traffic:"Number of Requests",errorRate:"Average Error Rate",latency:"P99 Latency"}},Yn={custom:"vs previous {numDays} days","15m":"vs previous 15 minutes","1h":"vs previous hour","6h":"vs previous 6 hours","12h":"vs previous 12 hours","24h":"vs previous 24 hours","7d":"vs previous 7 days","30d":"vs previous 30 days",current_week:"vs previous week",current_month:"vs previous month",current_quarter:"vs previous quarter",previous_week:"vs previous time period",previous_month:"vs previous time period",previous_quarter:"vs previous quarter"},An={general:Ln,metricCard:On,trendRange:Yn};function kn(){const e=Rr("en-us",An);return{i18n:e,i18nT:Cr(e)}}var he=(e=>(e.API_PRODUCT="API_PRODUCT",e.API_PRODUCT_VERSION="API_PRODUCT_VERSION",e.RUNTIME_GROUP="RUNTIME_GROUP",e.GATEWAY_INSTANCE_ID="GATEWAY_INSTANCE_ID",e.GATEWAY_SERVICE="GATEWAY_SERVICE",e.ROUTE="ROUTE",e.APPLICATION="APPLICATION",e.STATUS_CODE="STATUS_CODE",e.STATUS_CODE_GROUPED="STATUS_CODE_GROUPED",e.TIME="TIME",e.ORGANIZATION="ORGANIZATION",e))(he||{}),ft=(e=>(e.REQUEST_COUNT="REQUEST_COUNT",e.REQUEST_PER_MINUTE="REQUEST_PER_MINUTE",e.RESPONSE_LATENCY_P99="RESPONSE_LATENCY_P99",e.RESPONSE_LATENCY_P95="RESPONSE_LATENCY_P95",e.RESPONSE_LATENCY_P50="RESPONSE_LATENCY_P50",e.RESPONSE_SIZE_P99="RESPONSE_SIZE_P99",e.RESPONSE_SIZE_P95="RESPONSE_SIZE_P95",e.RESPONSE_SIZE_P50="RESPONSE_SIZE_P50",e.REQUEST_SIZE_P99="REQUEST_SIZE_P99",e.REQUEST_SIZE_P95="REQUEST_SIZE_P95",e.REQUEST_SIZE_P50="REQUEST_SIZE_P50",e))(ft||{}),yr=(e=>(e.IN="IN",e.NOT_IN="NOT_IN",e))(yr||{});const Un=2,$e=["1XX","2XX","3XX","4XX","5XX"],Jt=["4XX","5XX"];var wr=(e=>(e.VALIDATING="VALIDATING",e.VALIDATING_HAS_DATA="VALIDATING_HAS_DATA",e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.SUCCESS_HAS_DATA="SUCCESS_HAS_DATA",e.ERROR="ERROR",e.STALE_IF_ERROR="STALE_IF_ERROR",e))(wr||{});const Hn=e=>{var t,r,a,i,n;return e?!!((t=Object.keys(e))!=null&&t.length||(r=e.data)!=null&&r.length||(i=(a=e.data)==null?void 0:a.data)!=null&&i.length||!((n=e.data)!=null&&n.data)&&typeof e.data=="object"&&Object.keys(e==null?void 0:e.data).length):!1};function zn(e=We({}),t,r,a=Hn){const i=We("PENDING");return Or(()=>{const n=a(e.value);if(e.value&&n&&r.value){i.value="VALIDATING_HAS_DATA";return}if(e.value&&r.value){i.value="VALIDATING";return}if(e.value&&t.value){i.value="STALE_IF_ERROR";return}if(e.value===void 0&&!t.value){i.value="PENDING";return}if(e.value&&!t.value&&n){i.value="SUCCESS_HAS_DATA";return}if(e.value&&!t.value){i.value="SUCCESS";return}e.value===void 0&&t&&(i.value="ERROR")}),{state:i,swrvState:wr}}const K=Symbol("default"),Pe=he.STATUS_CODE_GROUPED,er=(e,t,r,a,i)=>{e[t][r]||(e[t][r]={}),e[t][r][a]=i};function $n(e,t,r){var a;const i=((a=e.meta.metricNames)==null?void 0:a[0])||"",n=Object.keys(e.meta.dimensions||{}),s=!!n.find(c=>c===Pe),l=n.find(c=>c!==Pe);return n.length>2||n.length>1&&!s?(console.error("Don't know how to work with provided dimensions:",n),{previous:{[K]:{[K]:0}},current:{[K]:{[K]:0}}}):e.records.reduce((c,o)=>{const u=o.event[i],d=l?o.event[l]:K,f=s?o.event[Pe]:K;return new Date(o.timestamp).getTime()===t.startDate().getTime()&&r?er(c,"previous",d,f,u):er(c,"current",d,f,u),c},{previous:{},current:{}})}function Pn(e){e.queryReady===void 0&&(e.queryReady=g(()=>!0));const t=g(()=>e.withTrend?new Cn(e.timeframe.value):new hr(e.timeframe.value)),r=g(()=>{var d,f;return{metrics:e.metrics,dimensions:[...(d=e.dimensions)!=null&&d.length?[...e.dimensions]:[],...e.withTrend?[he.TIME]:[]],granularityMs:t.value.granularityMs(),...(f=e.filter.value)!=null&&f.length?{filter:e.filter.value}:{}}}),a=g(()=>`${t.value.endDate().toString()}-${t.value.startDate().toString()}`),i=g(()=>{var d,f,p,w;if(!((d=e.queryReady)!=null&&d.value)||e.featureFlags&&!e.featureFlags.every(R=>R))return null;const D=(f=e.filter)!=null&&f.value?JSON.stringify(e.filter.value):"";return`metric-fetcher-${a.value}-${(p=e.dimensions)==null?void 0:p.join("-")}-${(w=e.metrics)==null?void 0:w.join("-")}-${D}`}),{response:n,error:s,isValidating:l}=re.useRequest(()=>i.value,()=>e.dataFetcher(t.value,r.value),{refreshInterval:e.refreshInterval,revalidateOnFocus:!1,errorRetryCount:Un}),{state:c,swrvState:o}=zn(n,s,l),u=g(()=>{var d,f,p,w,D,R,ie,E,S,ee;return!((p=(f=(d=n.value)==null?void 0:d.data)==null?void 0:f.records)!=null&&p.length)||!((R=(D=(w=n.value)==null?void 0:w.data)==null?void 0:D.meta)!=null&&R.dimensions)||!((ee=(S=(E=(ie=n.value)==null?void 0:ie.data)==null?void 0:E.meta)==null?void 0:S.metricNames)!=null&&ee.length)?{current:{},previous:{}}:$n(n.value.data,t.value,!!e.withTrend)});return{isLoading:g(()=>o.PENDING===c.value),hasError:g(()=>o.ERROR===c.value),raw:n,mapped:u}}const le=(e,t,r=K,a)=>(a??[K]).reduce((i,n)=>{const s=e[t][r];return s?i+(s[n]||0):i},0);function Fn(e){const{cardType:t,title:r,description:a,record:i,hasError:n,increaseIsBad:s,formatValueFn:l,trendRange:c}=e;return g(()=>{let o=0,u=0;if(i!=null&&i.value)try{o=le(i.value,"current",e.lookupKey,e.sumGroupedValues),u=le(i.value,"previous",e.lookupKey,e.sumGroupedValues)}catch(d){console.error("Metric card data doesn't have the expected structure:",d)}return{cardType:t,hasError:n.value,currentValue:o,previousValue:u,title:r.value,description:a,increaseIsBad:!!s,formatValueFn:l,trendRange:c==null?void 0:c.value}})}var Fe=new WeakMap,tr=0;function Vn(e){if(!e.length)return"";for(var t="arg",r=0;r<e.length;++r){var a=void 0;e[r]===null||typeof e[r]!="object"&&typeof e[r]!="function"?typeof e[r]=="string"?a='"'+e[r]+'"':a=String(e[r]):Fe.has(e[r])?a=Fe.get(e[r]):(a=tr,Fe.set(e[r],tr++)),t+="@"+a}return t}function Gn(e){if(typeof e=="function")try{e=e()}catch{e=""}return Array.isArray(e)?e=Vn(e):e=String(e||""),e}var Dt=function(){function e(t){t===void 0&&(t=0),this.items=new Map,this.ttl=t}return e.prototype.serializeKey=function(t){return Gn(t)},e.prototype.get=function(t){var r=this.serializeKey(t);return this.items.get(r)},e.prototype.set=function(t,r,a){var i=this.serializeKey(t),n=a||this.ttl,s=Date.now(),l={data:r,createdAt:s,expiresAt:n?s+n:1/0};this.dispatchExpire(n,l,i),this.items.set(i,l)},e.prototype.dispatchExpire=function(t,r,a){var i=this;t&&setTimeout(function(){var n=Date.now(),s=n>=r.expiresAt;s&&i.delete(a)},t)},e.prototype.delete=function(t){this.items.delete(t)},e}();function qn(){return typeof navigator.onLine<"u"?navigator.onLine:!0}function Zn(){return typeof document<"u"&&typeof document.visibilityState<"u"?document.visibilityState!=="hidden":!0}var jn=function(e){return fetch(e).then(function(t){return t.json()})};const Ve={isOnline:qn,isDocumentVisible:Zn,fetcher:jn};var j=globalThis&&globalThis.__assign||function(){return j=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},j.apply(this,arguments)},se=globalThis&&globalThis.__awaiter||function(e,t,r,a){function i(n){return n instanceof r?n:new r(function(s){s(n)})}return new(r||(r=Promise))(function(n,s){function l(u){try{o(a.next(u))}catch(d){s(d)}}function c(u){try{o(a.throw(u))}catch(d){s(d)}}function o(u){u.done?n(u.value):i(u.value).then(l,c)}o((a=a.apply(e,t||[])).next())})},oe=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,i,n,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(o){return function(u){return c([o,u])}}function c(o){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,i&&(n=o[0]&2?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[o[0]&2,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(o[0]===6&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(u){o=[6,u],i=0}finally{a=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Wn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),i,n=[],s;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)n.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}return n},Bn=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var a=0,i=t.length,n;a<i;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},Tr=new Dt,Ee=new Dt,Ge=new Dt,Dr={cache:Tr,refreshInterval:0,ttl:0,serverTTL:1e3,dedupingInterval:2e3,revalidateOnFocus:!0,revalidateDebounce:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5,fetcher:Ve.fetcher,isOnline:Ve.isOnline,isDocumentVisible:Ve.isDocumentVisible};function Kn(e,t,r){var a=Ee.get(e);if(a)a.data.push(t);else{var i=5e3;Ee.set(e,[t],r>0?r+i:r)}}function Xn(e,t,r){if(r.isDocumentVisible()&&!(r.errorRetryCount!==void 0&&t>r.errorRetryCount)){var a=Math.min(t||0,r.errorRetryCount),i=a*r.errorRetryInterval;setTimeout(function(){e(null,{errorRetryCount:a+1,shouldRetryOnError:!0})},i)}}var rr=function(e,t,r,a){return r===void 0&&(r=Tr),a===void 0&&(a=Dr.ttl),se(void 0,void 0,void 0,function(){var i,n,s,l,c,o,u;return oe(this,function(d){switch(d.label){case 0:if(!Jn(t))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t];case 2:return i=d.sent(),[3,4];case 3:return l=d.sent(),n=l,[3,4];case 4:return[3,6];case 5:i=t,d.label=6;case 6:if(s=!1,c={data:i,error:n,isValidating:s},typeof i<"u")try{r.set(e,c,a)}catch(f){console.error("swrv(mutate): failed to set cache",f)}return o=Ee.get(e),o&&o.data.length&&(u=o.data.filter(function(f){return f.key===e}),u.forEach(function(f,p){typeof c.data<"u"&&(f.data=c.data),f.error=c.error,f.isValidating=c.isValidating;var w=p===u.length-1;w||delete u[p]}),u=u.filter(Boolean)),[2,c]}})})};function Qn(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a,i,n=j({},Dr),s=!1,l=!1,c=$r(),o=(c==null?void 0:c.proxy)||c;if(!o)return console.error("Could not get current instance, check to make sure that `useSwrv` is declared in the top level of the setup function."),null;var u=(o==null?void 0:o.$isServer)||!1;t.length>=1&&(a=t[0]),t.length>=2&&(i=t[1]),t.length>2&&(n=j(j({},n),t[2]));var d=u?n.serverTTL:n.ttl,f=typeof a=="function"?a:We(a);typeof i>"u"&&(i=n.fetcher);var p=null;p||(p=Yr({data:void 0,error:void 0,isValidating:!0,key:null}));var w=function(E,S){return se(e,void 0,void 0,function(){var ee,k,ge,ve,_e,Et,be,Rt=this;return oe(this,function(Ie){switch(Ie.label){case 0:return ee=p.data===void 0,k=f.value,k?(ge=n.cache.get(k),ve=ge&&ge.data,p.isValidating=!0,ve&&(p.data=ve.data,p.error=ve.error),_e=E||i,!_e||!n.isDocumentVisible()&&!ee||(S==null?void 0:S.forceRevalidate)!==void 0&&!(S!=null&&S.forceRevalidate)?(p.isValidating=!1,[2]):ge&&(Et=!!(Date.now()-ge.createdAt>=n.dedupingInterval||S!=null&&S.forceRevalidate),!Et)?(p.isValidating=!1,[2]):(be=function(){return se(Rt,void 0,void 0,function(){var te,Ct,Me,_t;return oe(this,function(ye){switch(ye.label){case 0:return te=Ge.get(k),te?[3,2]:(Ct=Array.isArray(k)?k:[k],Me=_e.apply(void 0,Bn([],Wn(Ct),!1)),Ge.set(k,Me,n.dedupingInterval),[4,rr(k,Me,n.cache,d)]);case 1:return ye.sent(),[3,4];case 2:return[4,rr(k,te.data,n.cache,d)];case 3:ye.sent(),ye.label=4;case 4:return p.isValidating=!1,Ge.delete(k),p.error!==void 0&&(_t=!s&&n.shouldRetryOnError&&(S?S.shouldRetryOnError:!0),_t&&Xn(w,S?S.errorRetryCount:1,n)),[2]}})})},ve&&n.revalidateDebounce?(setTimeout(function(){return se(Rt,void 0,void 0,function(){return oe(this,function(te){switch(te.label){case 0:return s?[3,2]:[4,be()];case 1:te.sent(),te.label=2;case 2:return[2]}})})},n.revalidateDebounce),[3,3]):[3,1])):[2];case 1:return[4,be()];case 2:Ie.sent(),Ie.label=3;case 3:return[2]}})})},D=function(){return se(e,void 0,void 0,function(){return oe(this,function(E){return[2,w(null,{shouldRetryOnError:!1})]})})},R=null;Ar(function(){var E=function(){return se(e,void 0,void 0,function(){return oe(this,function(S){switch(S.label){case 0:return!p.error&&n.isOnline()?[4,w()]:[3,2];case 1:return S.sent(),[3,3];case 2:R&&clearTimeout(R),S.label=3;case 3:return n.refreshInterval&&!s&&(R=setTimeout(E,n.refreshInterval)),[2]}})})};n.refreshInterval&&(R=setTimeout(E,n.refreshInterval)),n.revalidateOnFocus&&(document.addEventListener("visibilitychange",D,!1),window.addEventListener("focus",D,!1))}),kr(function(){s=!0,R&&clearTimeout(R),n.revalidateOnFocus&&(document.removeEventListener("visibilitychange",D,!1),window.removeEventListener("focus",D,!1));var E=Ee.get(f.value);E&&(E.data=E.data.filter(function(S){return S!==p}))});try{Hr(f,function(E){Ur(f)||(f.value=E),p.key=E,p.isValidating=!!E,Kn(f.value,p,d),!u&&!l&&f.value&&w(),l=!1},{immediate:!0})}catch{}var ie=j(j({},zr(p)),{mutate:function(E,S){return w(E,j(j({},S),{forceRevalidate:!0}))}});return ie}function Jn(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}function ei(e,t,r){const{data:a,error:i,isValidating:n,mutate:s}=Qn(e,t,{revalidateDebounce:500,revalidateOnFocus:!1,dedupingInterval:100,...r});return{data:g(()=>{var l;return(l=a.value)==null?void 0:l.data}),response:a,error:i,isValidating:n,revalidate:s}}const re={useI18n:kn,useMetricCardBuilder:Fn,useMetricFetcher:Pn,useRequest:ei},Nr=Symbol("METRICS_PROVIDER_KEY"),ti=e=>{const{dimension:t,dimensionFilterValue:r,additionalFilter:a,queryReady:i,timeframe:n,hasTrendAccess:s,refreshInterval:l,dataFetcher:c}=e;if(r&&!t)throw new Error("Must provide a dimension if filtering by a value");const o=!!(t&&r),u=!!(t&&!r),d=g(()=>{const R=[];return o&&R.push({dimension:t,type:yr.IN,values:[r]}),a.value&&R.push(...a.value),R}),f={metrics:[ft.REQUEST_COUNT],dimensions:[...t&&!o?[t]:[],he.STATUS_CODE_GROUPED],filter:d,queryReady:i,timeframe:n,withTrend:s&&!u,refreshInterval:l,dataFetcher:c},p={metrics:[ft.RESPONSE_LATENCY_P99],...t&&!o?{dimensions:[t]}:{},filter:d,queryReady:i,timeframe:n,withTrend:s&&!u,refreshInterval:l,dataFetcher:c},w=re.useMetricFetcher(f),D=re.useMetricFetcher(p);return{trafficData:w,latencyData:D}},ri=H({__name:"MetricsProviderInternal",props:{maxTimeframe:{default:T.THIRTY_DAY},overrideTimeframe:{default:void 0},dimension:{default:void 0},filterValue:{default:void 0},additionalFilter:{default:void 0},queryReady:{type:Boolean,default:!0},dataFetcher:{},hasTrendAccess:{type:Boolean},refreshInterval:{},longCardTitles:{type:Boolean,default:!1},description:{default:void 0}},setup(e){const t=e,{i18n:r}=re.useI18n();if(t.dimension&&!{}.hasOwnProperty.call(he,t.dimension))throw new Error(`Attempted to use MetricsProvider with an invalid dimension: ${t.dimension}`);const a=g(()=>{if(t.overrideTimeframe)return t.overrideTimeframe;const l=t.hasTrendAccess?ze.get(t.maxTimeframe):ze.get(T.ONE_DAY);if(!l)throw new Error("Metrics provider failed to resolve fallback timeframe.");return l}),i=g(()=>{var l;return a.value.key==="custom"?r.t("trendRange.custom",{numDays:Math.ceil(a.value.timeframeLength()/(1e3*60*24))}):t.hasTrendAccess?r.t(`trendRange.${a.value.key}`):r.t(`trendRange.${(l=ze.get(T.ONE_DAY))==null?void 0:l.key}`)}),{trafficData:n,latencyData:s}=ti({dimension:t.dimension,dimensionFilterValue:t.filterValue,additionalFilter:bt(t,"additionalFilter"),queryReady:bt(t,"queryReady"),timeframe:a,hasTrendAccess:t.hasTrendAccess,refreshInterval:t.refreshInterval,dataFetcher:t.dataFetcher});return xr(Nr,{data:{traffic:n,latency:s},description:t.description,hasTrendAccess:t.hasTrendAccess,longCardTitles:t.longCardTitles,trendRange:i}),(l,c)=>mt(l.$slots,"default",{hasTrendAccess:t.hasTrendAccess,timeframe:a.value})}});function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sr={exports:{}};(function(e){(function(){function t(o,u){if(u.separator===!1||o<1e3)return o.toString();var d=typeof u.separator=="string"?u.separator:",",f=[],p=Math.round(o).toString().split("");return p.reverse().forEach(function(w,D){D&&D%3===0&&f.push(d),f.push(w)}),f.reverse().join("")}function r(o,u,d){var f=o/u,p=d.round?"round":"floor";return d.decimal===!1?(o=Math[p](f),o.toString()):(d.precision?o=f:o=f<10?Math[p](f*10)/10:Math[p](f),o=o.toString(),typeof d.decimal=="string"&&(o=o.replace(".",d.decimal)),o)}var a=1e3,i=1e4,n=1e6,s=1e9,l=1e12;function c(o,u){var d;u=u||{};var f=o<0;f&&(o=Math.abs(o)),u.precision&&(o=parseFloat(o.toPrecision(u.precision)));var p=u.min10k?i:a;return o<p||u.precision&&u.precision>Math.log10(o)?d=t(r(o,1,u),u):o<n?d=r(o,a,u)+"k":o<s?d=r(o,n,u)+"m":o<l?d=t(r(o,s,u),u)+"b":d=t(r(o,l,u),u)+"t",f&&(d="-"+d),u.capital&&(d=d.toUpperCase()),u.prefix&&(d=u.prefix+d),u.suffix&&(d=d+u.suffix),d}c.addCommas=t,e.exports=c})()})(Sr);var ni=Sr.exports;const ii=ai(ni);var $=(e=>(e.Small="sm",e.Medium="md",e.Large="lg",e.LargeCompact="lgc",e.ExtraLarge="xl",e))($||{});const C="24px",J=(e,t)=>{const r=e.__vccOpts||e;for(const[a,i]of t)r[a]=i;return r},si=e=>(X("data-v-f2dbb1b9"),e=e(),Q(),e),oi=["aria-hidden"],ui={key:0,"data-testid":"kui-icon-svg-title"},li=si(()=>b("path",{d:"M6.5 20C4.98333 20 3.6875 19.475 2.6125 18.425C1.5375 17.375 1 16.0917 1 14.575C1 13.275 1.39167 12.1167 2.175 11.1C2.95833 10.0833 3.98333 9.43333 5.25 9.15C5.66667 7.61667 6.5 6.375 7.75 5.425C9 4.475 10.4167 4 12 4C13.95 4 15.6042 4.67917 16.9625 6.0375C18.3208 7.39583 19 9.05 19 11C20.15 11.1333 21.1042 11.6292 21.8625 12.4875C22.6208 13.3458 23 14.35 23 15.5C23 16.75 22.5625 17.8125 21.6875 18.6875C20.8125 19.5625 19.75 20 18.5 20H13C12.45 20 11.9792 19.8042 11.5875 19.4125C11.1958 19.0208 11 18.55 11 18V12.85L9.4 14.4L8 13L12 9L16 13L14.6 14.4L13 12.85V18H18.5C19.2 18 19.7917 17.7583 20.275 17.275C20.7583 16.7917 21 16.2 21 15.5C21 14.8 20.7583 14.2083 20.275 13.725C19.7917 13.2417 19.2 13 18.5 13H17V11C17 9.61667 16.5125 8.4375 15.5375 7.4625C14.5625 6.4875 13.3833 6 12 6C10.6167 6 9.4375 6.4875 8.4625 7.4625C7.4875 8.4375 7 9.61667 7 11H6.5C5.53333 11 4.70833 11.3417 4.025 12.025C3.34167 12.7083 3 13.5333 3 14.5C3 15.4667 3.34167 16.2917 4.025 16.975C4.70833 17.6583 5.53333 18 6.5 18H9V20H6.5Z",fill:"currentColor"},null,-1)),di=H({__name:"CloudUploadIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon cloud-upload-icon","data-testid":"kui-icon-wrapper-cloud-upload-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-cloud-upload-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",ui,I(e.title),1)):O("",!0),li],8,oi))]),_:1},8,["aria-hidden","style"]))}}),ci=J(di,[["__scopeId","data-v-f2dbb1b9"]]),fi=e=>(X("data-v-04327805"),e=e(),Q(),e),pi=["aria-hidden"],mi={key:0,"data-testid":"kui-icon-svg-title"},gi=fi(()=>b("path",{d:"M4 17V14H20V17H4ZM4 10V7H20V10H4Z",fill:"currentColor"},null,-1)),vi=H({__name:"EqualIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon equal-icon","data-testid":"kui-icon-wrapper-equal-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-equal-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",mi,I(e.title),1)):O("",!0),gi],8,pi))]),_:1},8,["aria-hidden","style"]))}}),hi=J(vi,[["__scopeId","data-v-04327805"]]),yi=e=>(X("data-v-951e2d7d"),e=e(),Q(),e),wi=["aria-hidden"],Ti={key:0,"data-testid":"kui-icon-svg-title"},Di=yi(()=>b("path",{d:"M5 11V9H15V11H5Z",fill:"currentColor"},null,-1)),Ni=H({__name:"IndeterminateSmallIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon indeterminate-small-icon","data-testid":"kui-icon-wrapper-indeterminate-small-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-indeterminate-small-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",Ti,I(e.title),1)):O("",!0),Di],8,wi))]),_:1},8,["aria-hidden","style"]))}}),Er=J(Ni,[["__scopeId","data-v-951e2d7d"]]),Si=e=>(X("data-v-6754ff4c"),e=e(),Q(),e),Ei=["aria-hidden"],Ri={key:0,"data-testid":"kui-icon-svg-title"},Ci=Si(()=>b("path",{d:"M15.25 5C14.9 5 14.6042 4.87917 14.3625 4.6375C14.1208 4.39583 14 4.1 14 3.75C14 3.4 14.1208 3.10417 14.3625 2.8625C14.6042 2.62083 14.9 2.5 15.25 2.5C15.6 2.5 15.8958 2.62083 16.1375 2.8625C16.3792 3.10417 16.5 3.4 16.5 3.75C16.5 4.1 16.3792 4.39583 16.1375 4.6375C15.8958 4.87917 15.6 5 15.25 5ZM15.25 21.5C14.9 21.5 14.6042 21.3792 14.3625 21.1375C14.1208 20.8958 14 20.6 14 20.25C14 19.9 14.1208 19.6042 14.3625 19.3625C14.6042 19.1208 14.9 19 15.25 19C15.6 19 15.8958 19.1208 16.1375 19.3625C16.3792 19.6042 16.5 19.9 16.5 20.25C16.5 20.6 16.3792 20.8958 16.1375 21.1375C15.8958 21.3792 15.6 21.5 15.25 21.5ZM19.25 8.5C18.9 8.5 18.6042 8.37917 18.3625 8.1375C18.1208 7.89583 18 7.6 18 7.25C18 6.9 18.1208 6.60417 18.3625 6.3625C18.6042 6.12083 18.9 6 19.25 6C19.6 6 19.8958 6.12083 20.1375 6.3625C20.3792 6.60417 20.5 6.9 20.5 7.25C20.5 7.6 20.3792 7.89583 20.1375 8.1375C19.8958 8.37917 19.6 8.5 19.25 8.5ZM19.25 18C18.9 18 18.6042 17.8792 18.3625 17.6375C18.1208 17.3958 18 17.1 18 16.75C18 16.4 18.1208 16.1042 18.3625 15.8625C18.6042 15.6208 18.9 15.5 19.25 15.5C19.6 15.5 19.8958 15.6208 20.1375 15.8625C20.3792 16.1042 20.5 16.4 20.5 16.75C20.5 17.1 20.3792 17.3958 20.1375 17.6375C19.8958 17.8792 19.6 18 19.25 18ZM20.75 13.25C20.4 13.25 20.1042 13.1292 19.8625 12.8875C19.6208 12.6458 19.5 12.35 19.5 12C19.5 11.65 19.6208 11.3542 19.8625 11.1125C20.1042 10.8708 20.4 10.75 20.75 10.75C21.1 10.75 21.3958 10.8708 21.6375 11.1125C21.8792 11.3542 22 11.65 22 12C22 12.35 21.8792 12.6458 21.6375 12.8875C21.3958 13.1292 21.1 13.25 20.75 13.25ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2V4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20V22ZM12 14C11.45 14 10.9792 13.8042 10.5875 13.4125C10.1958 13.0208 10 12.55 10 12C10 11.9167 10.0042 11.8292 10.0125 11.7375C10.0208 11.6458 10.0417 11.5583 10.075 11.475L8 9.4L9.4 8L11.475 10.075C11.5417 10.0583 11.7167 10.0333 12 10C12.55 10 13.0208 10.1958 13.4125 10.5875C13.8042 10.9792 14 11.45 14 12C14 12.55 13.8042 13.0208 13.4125 13.4125C13.0208 13.8042 12.55 14 12 14Z",fill:"currentColor"},null,-1)),_i=H({__name:"ResponseIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon response-icon","data-testid":"kui-icon-wrapper-response-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-response-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",Ri,I(e.title),1)):O("",!0),Ci],8,Ei))]),_:1},8,["aria-hidden","style"]))}}),bi=J(_i,[["__scopeId","data-v-6754ff4c"]]),Ii=e=>(X("data-v-2ee83e7f"),e=e(),Q(),e),Mi=["aria-hidden"],xi={key:0,"data-testid":"kui-icon-svg-title"},Li=Ii(()=>b("path",{d:"M16 18V16H18.6L13.4 10.85L9.4 14.85L2 7.4L3.4 6L9.4 12L13.4 8L20 14.6V12H22V18H16Z",fill:"currentColor"},null,-1)),Oi=H({__name:"TrendDownIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon trend-down-icon","data-testid":"kui-icon-wrapper-trend-down-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-trend-down-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",xi,I(e.title),1)):O("",!0),Li],8,Mi))]),_:1},8,["aria-hidden","style"]))}}),Yi=J(Oi,[["__scopeId","data-v-2ee83e7f"]]),Ai=e=>(X("data-v-fc79d138"),e=e(),Q(),e),ki=["aria-hidden"],Ui={key:0,"data-testid":"kui-icon-svg-title"},Hi=Ai(()=>b("path",{d:"M3.4 18L2 16.6L9.4 9.15L13.4 13.15L18.6 8H16V6H22V12H20V9.4L13.4 16L9.4 12L3.4 18Z",fill:"currentColor"},null,-1)),zi=H({__name:"TrendUpIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon trend-up-icon","data-testid":"kui-icon-wrapper-trend-up-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-trend-up-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",Ui,I(e.title),1)):O("",!0),Hi],8,ki))]),_:1},8,["aria-hidden","style"]))}}),$i=J(zi,[["__scopeId","data-v-fc79d138"]]),Pi=e=>(X("data-v-87798997"),e=e(),Q(),e),Fi=["aria-hidden"],Vi={key:0,"data-testid":"kui-icon-svg-title"},Gi=Pi(()=>b("path",{d:"M9 20C8.68333 20 8.4 19.9083 8.15 19.725C7.9 19.5417 7.71667 19.3083 7.6 19.025L5.3 13H1V11H6.7L9 17.1L13.6 4.975C13.7167 4.69167 13.9 4.45833 14.15 4.275C14.4 4.09167 14.6833 4 15 4C15.3167 4 15.6 4.09167 15.85 4.275C16.1 4.45833 16.2833 4.69167 16.4 4.975L18.7 11H23V13H17.3L15 6.9L10.4 19.025C10.2833 19.3083 10.1 19.5417 9.85 19.725C9.6 19.9083 9.31667 20 9 20Z",fill:"currentColor"},null,-1)),qi=H({__name:"VitalsIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon vitals-icon","data-testid":"kui-icon-wrapper-vitals-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-vitals-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",Vi,I(e.title),1)):O("",!0),Gi],8,Fi))]),_:1},8,["aria-hidden","style"]))}}),Zi=J(qi,[["__scopeId","data-v-87798997"]]),ji=e=>(X("data-v-81510183"),e=e(),Q(),e),Wi=["aria-hidden"],Bi={key:0,"data-testid":"kui-icon-svg-title"},Ki=ji(()=>b("path",{d:"M12.0001 22.025C11.7334 22.025 11.4793 21.975 11.2376 21.875C10.9959 21.775 10.7751 21.6333 10.5751 21.45L2.5501 13.425C2.36676 13.225 2.2251 13.0041 2.1251 12.7625C2.0251 12.5208 1.9751 12.2666 1.9751 12C1.9751 11.7333 2.0251 11.475 2.1251 11.225C2.2251 10.975 2.36676 10.7583 2.5501 10.575L10.5751 2.54998C10.7751 2.34998 10.9959 2.20414 11.2376 2.11248C11.4793 2.02081 11.7334 1.97498 12.0001 1.97498C12.2668 1.97498 12.5251 2.02081 12.7751 2.11248C13.0251 2.20414 13.2418 2.34998 13.4251 2.54998L21.4501 10.575C21.6501 10.7583 21.7959 10.975 21.8876 11.225C21.9793 11.475 22.0251 11.7333 22.0251 12C22.0251 12.2666 21.9793 12.5208 21.8876 12.7625C21.7959 13.0041 21.6501 13.225 21.4501 13.425L13.4251 21.45C13.2418 21.6333 13.0251 21.775 12.7751 21.875C12.5251 21.975 12.2668 22.025 12.0001 22.025ZM12.0001 20.025L20.0251 12L12.0001 3.97498L3.9751 12L12.0001 20.025ZM11.0001 13H13.0001V6.99998H11.0001V13ZM12.0001 16C12.2834 16 12.5209 15.9041 12.7126 15.7125C12.9043 15.5208 13.0001 15.2833 13.0001 15C13.0001 14.7166 12.9043 14.4791 12.7126 14.2875C12.5209 14.0958 12.2834 14 12.0001 14C11.7168 14 11.4793 14.0958 11.2876 14.2875C11.0959 14.4791 11.0001 14.7166 11.0001 15C11.0001 15.2833 11.0959 15.5208 11.2876 15.7125C11.4793 15.9041 11.7168 16 12.0001 16Z",fill:"currentColor"},null,-1)),Xi=H({__name:"WarningOutlineIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:C,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=g(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return C}),a=g(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(m(),L(q(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon warning-outline-icon","data-testid":"kui-icon-wrapper-warning-outline-icon",style:B(a.value)},{default:Z(()=>[(m(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-warning-outline-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(m(),y("title",Bi,I(e.title),1)):O("",!0),Ki],8,Wi))]),_:1},8,["aria-hidden","style"]))}}),Qi=J(Xi,[["__scopeId","data-v-81510183"]]),Nt=2,ar=Nt+2,Ji=(e,t,r=!1)=>{let a=!t||Number(e.toFixed(ar))===0?0:Number(e.toFixed(ar))>0?1:-1;return r&&(a*=-1),a},es=(e,t,r)=>t?`${Math.abs(e*100).toFixed(Nt)}%`:r,ts=(e,t)=>t===0?0:e/t-1,rs=(e,t=!1)=>(t&&(e*=-1),e>0?$i:e<0?Yi:Er),as="#ad000e",ns="#6c7489",nr="#52596e",is="#007d60",qe="16px",ss="14px",os="48px";var W=(e=>(e.GENERIC_COUNT="GenericCount",e.TRAFFIC="Traffic",e.ERROR_RATE="ErrorRate",e.LATENCY="Latency",e))(W||{});const us={class:"metricscard"},ls={key:0,class:"metricscard-description"},ds={key:0,class:"metricscard-error"},cs={key:2,class:"metricscard-trend"},fs={"data-testid":"metric-trend-change"},ps={key:0,class:"metricscard-trend-range"},ms=H({__name:"MetricsCard",props:{cardType:{type:String,required:!0,default:W.GENERIC_COUNT},title:{type:String,default:"0%",required:!0},description:{type:String,default:"",required:!1},tooltip:{type:String,required:!1,default:""},timeframe:{type:String,required:!1,default:""},metricValue:{type:String,default:""},metricChange:{type:String,required:!0},changePolarity:{type:Number,required:!0},trendIcon:{type:Object,default:Er},trendRange:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:"Vitals data error"},cardSize:{type:String,required:!1,default:()=>"lg"}},setup(e){const t=e,r=new Map([[W.GENERIC_COUNT,Zi],[W.TRAFFIC,ci],[W.ERROR_RATE,Qi],[W.LATENCY,bi]]),a=o=>{const u={red:`var(--kong-ui-metric-card-trend-negative, ${as})`,green:`var(--kong-ui-metric-card-trend-positive, ${is})`,grey:`var(--kong-ui-metric-card-trend-neutral, ${nr})`};return o>0?u.green:o<0?u.red:u.grey},i=o=>o>0?"positive":o<0?"negative":"neutral",n=[$.Medium,$.Large,$.LargeCompact].includes(t.cardSize),s=t.cardSize===$.ExtraLarge?os:n?"22px":ss,l=g(()=>t.cardSize===$.LargeCompact),c=[$.Small,$.LargeCompact].includes(t.cardSize);return(o,u)=>{const d=we("KIcon"),f=we("KTooltip");return m(),y("div",us,[b("div",{class:ue(["metricscard-title",e.cardSize])},[_(c)?O("",!0):(m(),L(q(_(r).get(e.cardType)),{key:0,class:"metricscard-icon",color:_(ns),size:_(qe)},null,8,["color","size"])),b("span",null,I(e.title),1),e.tooltip?(m(),L(f,{key:1,class:"metricscard-tooltip",label:e.tooltip,placement:"right"},{default:Z(()=>[fe(d,{icon:"info",size:"12"})]),_:1},8,["label"])):O("",!0)],2),e.description&&_(n)&&!l.value?(m(),y("div",ls,[b("span",null,I(e.description),1)])):O("",!0),b("div",{class:ue(["metricscard-valuetrend",{"is-compact":l.value}])},[e.hasError?(m(),y("div",ds,[fe(d,{icon:"warning",size:"20"}),b("div",null,I(e.errorMessage),1)])):(m(),y("div",{key:1,class:ue(["metricscard-value",e.cardSize]),"data-testid":"metric-value",style:B(`font-size:${_(s)}`)},I(e.metricValue),7)),_(n)?(m(),y("div",cs,[b("div",{class:ue(["metricscard-trend-change",i(e.changePolarity)]),"data-testid":"metric-trend-parent"},[e.changePolarity!==0?(m(),L(q(e.trendIcon),{key:0,color:a(e.changePolarity),size:_(qe)},null,8,["color","size"])):(m(),L(_(hi),{key:1,color:_(nr),size:_(qe)},null,8,["color","size"])),b("div",fs,I(e.metricChange),1)],2),e.trendRange&&e.cardSize!==_($).LargeCompact?(m(),y("div",ps,I(e.trendRange),1)):O("",!0)])):O("",!0)],2)])}}}),St=(e,t)=>{const r=e.__vccOpts||e;for(const[a,i]of t)r[a]=i;return r},gs=St(ms,[["__scopeId","data-v-e3b3a4cb"]]),vs={},hs={class:"loading-tabs"};function ys(e,t){const r=we("KSkeletonBox");return m(),y("div",hs,[fe(r,{width:"100"}),fe(r,{width:"75"})])}const ws=St(vs,[["render",ys],["__scopeId","data-v-f7eb9c40"]]),Ts={key:0,class:"error-display"},Ds={key:0,class:"error-display-message"},Ns=H({__name:"MetricCardContainer",props:{fallbackDisplayText:{type:String,required:!0},cards:{type:Array,required:!0},errorMessage:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},hasTrendAccess:{type:Boolean,required:!1,default:!0},cardSize:{type:String,required:!1,default:()=>$.Large}},setup(e){const t=e,r=g(()=>t.cards.every(i=>(i==null?void 0:i.hasError)===!0)),a=i=>{const n=ts(i.currentValue,i.previousValue)||0,s=Ji(n,t.hasTrendAccess,i.increaseIsBad);return{metricValue:i.formatValueFn?i.formatValueFn(i.currentValue):ii(i.currentValue,{capital:!0,round:!0})||"0",metricChange:i.formatChangeFn?i.formatChangeFn(n):es(n,t.hasTrendAccess,t.fallbackDisplayText),changePolarity:s,trendIcon:rs(s,i.increaseIsBad),cardSize:t.cardSize}};return(i,n)=>{const s=we("KIcon");return m(),y("div",{class:ue(["kong-ui-public-metric-card-container",e.cardSize])},[r.value?(m(),y("div",Ts,[fe(s,{class:"error-display-icon",icon:"warning",size:"24"}),e.errorMessage?(m(),y("div",Ds,I(e.errorMessage),1)):O("",!0)])):(m(!0),y(It,{key:1},Pr(e.cards,(l,c)=>(m(),y(It,null,[e.loading?(m(),L(ws,{key:`skeleton-${c}`,class:ue(e.cardSize===_($).Small?"loading-tabs-small":"loading-tabs-large")},null,8,["class"])):(m(),L(gs,Fr({key:c},a(l),{"card-size":e.cardSize,"card-type":l.cardType,description:l.description,"error-message":e.errorMessage,"has-error":l.hasError,title:l.title,tooltip:l.tooltip,"trend-range":l.trendRange}),null,16,["card-size","card-type","description","error-message","has-error","title","tooltip","trend-range"]))],64))),256))],2)}}}),Ss=St(Ns,[["__scopeId","data-v-7c516677"]]),As=H({__name:"MetricsConsumer",props:{lookupKey:{default:void 0},cardSize:{default:$.Large},cardToDisplay:{default:void 0}},setup(e){const t=e,r=Lr(Nr);if(!r)throw new Error("MetricsConsumer must be nested inside a MetricsProvider instance.");const{traffic:a,latency:i}=r.data,{i18n:n}=re.useI18n(),s=re.useMetricCardBuilder({cardType:W.TRAFFIC,title:g(()=>r.longCardTitles?n.t("metricCard.long.traffic"):n.t("metricCard.short.traffic")),description:r.description,record:a.mapped,hasError:a.hasError,lookupKey:t.lookupKey,sumGroupedValues:$e,trendRange:r.trendRange}),l=D=>`${D.toFixed(Nt)}%`,c=g(()=>{const D=a.mapped.value,R=le(D,"current",t.lookupKey,Jt),ie=le(D,"current",t.lookupKey,$e),E=R/ie*100||0,S=le(D,"previous",t.lookupKey,Jt),ee=le(D,"previous",t.lookupKey,$e),k=S/ee*100||0;return{cardType:W.ERROR_RATE,hasError:a.hasError.value,currentValue:E,previousValue:k,formatValueFn:l,title:r.longCardTitles?n.t("metricCard.long.errorRate"):n.t("metricCard.short.errorRate"),description:r.description,increaseIsBad:!0,trendRange:r.trendRange.value}}),o=D=>`${D}ms`,u=re.useMetricCardBuilder({cardType:W.LATENCY,title:g(()=>r.longCardTitles?n.t("metricCard.long.latency"):n.t("metricCard.short.latency")),description:r.description,hasError:i.hasError,record:i.mapped,lookupKey:t.lookupKey,increaseIsBad:!0,formatValueFn:o,trendRange:r.trendRange}),d=g(()=>t.cardToDisplay==="TRAFFIC"?[s.value]:t.cardToDisplay==="ERROR_RATE"?[c.value]:t.cardToDisplay==="LATENCY"?[u.value]:[s.value,c.value,u.value]),f=g(()=>t.cardToDisplay==="TRAFFIC"||t.cardToDisplay==="ERROR_RATE"?a.isLoading.value:t.cardToDisplay==="LATENCY"?i.isLoading.value:a.isLoading.value||i.isLoading.value),p=g(()=>({cards:d.value,loading:f.value,hasTrendAccess:r.hasTrendAccess,fallbackDisplayText:n.t("general.notAvailable"),cardSize:t.cardSize,hideTitle:!0,trendRange:r.trendRange.value})),w=g(()=>({loading:p.value.loading,trafficCard:s.value,errorRateCard:c.value,latencyCard:u.value,errorRateFormatted:l(c.value.currentValue),latencyFormatted:o(u.value.currentValue)}));return(D,R)=>mt(D.$slots,"default",{cardValues:w.value},()=>[fe(_(Ss),Ze(je(p.value)),null,16)])}}),pt=e=>typeof e!="object"||e===null?e:Array.isArray(e)?e.map(t=>pt(t)):Object.keys(e).reduce((t,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=r.replace(/_([a-z])/g,(i,n)=>n.toUpperCase());t[a]=pt(e[r])}return t},{}),ks=H({__name:"MetricsProvider",props:{overrideTimeframe:{default:void 0},maxTimeframe:{default:N.THIRTY_DAY},dimension:{default:void 0},additionalFilter:{default:void 0},filterValue:{default:void 0},queryReady:{type:Boolean,default:void 0},longCardTitles:{type:Boolean,default:void 0}},setup(e){const t=e,{portalApiV2:r}=_r(),a=br(),{allowedTimePeriod:i}=Ir(a),n=g(()=>i.value===Mr.NINETY_DAYS),s=async(c,o)=>{var d;const u={queryApplicationAnalytics:{...o,granularity_ms:o.granularityMs,start_ms:c.startMs(),end_ms:c.endMs()}};(d=u.queryApplicationAnalytics)==null||delete d.granularityMs;try{const f=await r.value.service.applicationAnalyticsApi.queryApplicationAnalytics(u);return f.data.meta=pt(f.data.meta),Promise.resolve(f)}catch(f){return Promise.reject(f)}},l=g(()=>({...t,dataFetcher:s,hasTrendAccess:n.value,refreshInterval:0}));return(c,o)=>(m(),L(_(ri),Ze(je(l.value)),{default:Z(u=>[mt(c.$slots,"default",Ze(je(u)))]),_:3},16))}});export{Aa as B,yr as D,he as Q,As as Y,ks as _,Os as i,Ls as n,Ys as o,Cs as r,pt as s,N as v};
